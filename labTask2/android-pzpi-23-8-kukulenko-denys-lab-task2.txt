Харківський університет радіоелектроніки 
Факультет комп'ютерних наук 
Кафедра програмної інженерії 
 
 
 
 
 
 
 
ЗВІТ 
до лабораторної роботи 2 з дисципліни 
"Програмування під Android" 
                 на тему " Розробка калькулятора"

 
 
 
 
 
Виконав ст. гр ПЗПІ-23-8 
Кукуленко Денис Васильович
 
 
Перевірив  ст. викладач кафедри ПІ Сокорчук Ігор Петрович 
 
 
 
 
 
 
  
Харків 2024 
 	 
МЕТА 
 

     Метою цієї роботи є розробка калькулятора, який підтримує виконання базових арифметичних операцій (додавання, віднімання, множення та ділення) з використанням кнопок для введення чисел і вибору операцій. Завдання включає створення адаптивного інтерфейсу, який автоматично налаштовується під різні розміри та орієнтації екрану: у портретному режимі кнопки калькулятора розташовуються в сітці під полем результату, а в ландшафтному режимі — у компактнішому вигляді. Для реалізації передбачено використання GridLayout для розміщення кнопок та забезпечення гнучкого адаптивного дизайну. 

ЗАВДАННЯ 
 
Розробити калькулятор на 4 базові арифметичні операції з кнопками для введення аргументів і дій.
    Калькулятор повинен мати адаптивний користувацький інтерфейс у різних орієнтаціях екрану та на екранах різної роздільної здатності.
 
ХІД РОБОТИ 
 
Створив новий проєкт з шаблоном Empty Activity.
Ознайомився зі структурою проєкту, вивчивши основні файли: MainActivity.java, activity_main.xml та AndroidManifest.xml.
У файлі activity_main.xml налаштував інтерфейс активності, використовуючи ConstraintLayout та GridLayout для розташування кнопок калькулятора, забезпечивши адаптивність інтерфейсу (див. Додаток А).
Додав поле EditText для відображення результатів обчислень і кнопки для введення чисел та вибору операцій (див. Додаток А).
У MainActivity.java реалізував обробку натискань на кнопки чисел, операцій та спеціальних функцій, таких як очищення, видалення останнього символа, обчислення відсотків і підрахунок результату (див. Додаток Б).
Створив метод onNumberClick() для обробки натискань на кнопки чисел, який додає вибране число до поля результату.
Додав метод onOperationClick() для обробки операцій додавання, віднімання, множення та ділення, зберігаючи перше число і вибрану операцію.
Реалізував метод calculateResult(), який обчислює результат вибраної операції над двома числами і виводить його в поле результату (див. Додаток Б).
Додав методи для очищення поля, видалення останнього символа, додавання десяткової крапки та обчислення відсотка (див. Додаток Б).
Налаштував адаптивність інтерфейсу для різних орієнтацій екрану, перевіривши розміщення елементів у портретній та ландшафтній орієнтаціях (див. Додаток А).
Протестував додаток на різних пристроях, щоб упевнитися, що кнопки та поле результату правильно адаптуються до роздільної здатності й орієнтації екрану. 
ВИСНОВКИ 
 
Посилання на відео в YouTube: https://youtu.be/TYpAflUQP64
 
Під час виконання лабораторної роботи я освоїв основи створення калькулятора на Android, що підтримує базові арифметичні операції та має адаптивний інтерфейс. Я реалізував обробку натискань на кнопки для введення чисел, виконання операцій і спеціальних функцій, таких як очищення, видалення символів та обчислення відсотків. Використання GridLayout допомогло упорядкувати кнопки на екрані, забезпечивши зручне розташування елементів і легку адаптацію інтерфейсу до різних орієнтацій екрану.














ВИКОРИСТАННІ ДЖЕРЕЛА
 
1. YouTube. " Як Зробити Android Додаток з Нуля" https://www.youtube.com/watch?v=p0tmWQIKk4g. Дата доступу: 13 листопада 2024 року.
2. YouTube. " Приложение калькулятор на Java в Android Studio." https://www.youtube.com/watch?v=S6O21UpfL9s. Дата доступу: 13 листопада 2024 року.
3. Національний університет радіоелектроніки. https://dl.nure.ua/. Дата доступу: 13 листопада 2024 року. 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
ДОДАТОК А 
 
Інтерфейс активності у файлі activity_main.xml

1. <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
2.         android:layout_width="match_parent"
3.         android:layout_height="match_parent"
4.         android:orientation="vertical"
5.         android:padding="16dp">

6.         <EditText
7.             android:id="@+id/resultField"
8.             android:layout_width="match_parent"
9.             android:layout_height="wrap_content"
10.             android:layout_weight="1"
11.             android:background="@android:color/white"
12.             android:gravity="center"
13.             android:padding="16dp"
14.             android:textSize="32sp"
15.             android:enabled="false" />

16.         <GridLayout
17.             android:layout_width="match_parent"
18.             android:layout_height="wrap_content"
19.             android:layout_weight="1"
20.             android:columnCount="4"
21.             android:rowCount="5"
22.             android:orientation="horizontal">

23.             <Button
24.                 android:id="@+id/btnClear"
25.                 android:layout_width="0dp"
26.                 android:layout_height="wrap_content"
27.                 android:layout_columnWeight="1"
28.                 android:layout_margin="4dp"
29.                 android:text="C"
30.                 android:textSize="24sp" />

31.             <Button
32.                 android:id="@+id/btnDelete"
33.                 android:layout_width="0dp"
34.                 android:layout_height="wrap_content"
35.                 android:layout_columnWeight="1"
36.                 android:layout_margin="4dp"
37.                 android:text="?"
38.                 android:textSize="24sp" />

39.             <Button
40.                 android:id="@+id/btnPercent"
41.                 android:layout_width="0dp"
42.                 android:layout_height="wrap_content"
43.                 android:layout_columnWeight="1"
44.                 android:layout_margin="4dp"
45.                 android:text="%"
46.                 android:textSize="24sp" />

47.             <Button
48.                 android:id="@+id/btnDivide"
49.                 android:layout_width="0dp"
50.                 android:layout_height="wrap_content"
51.                 android:layout_columnWeight="1"
52.                 android:layout_margin="4dp"
53.                 android:text="?"
54.                 android:textSize="24sp" />

55.             <Button
56.                 android:id="@+id/btn7"
57.                 android:layout_width="0dp"
58.                 android:layout_height="wrap_content"
59.                 android:layout_columnWeight="1"
60.                 android:layout_margin="4dp"
61.                 android:text="7"
62.                 android:textSize="24sp" />

63.             <Button
64.                 android:id="@+id/btn8"
65.                 android:layout_width="0dp"
66.                 android:layout_height="wrap_content"
67.                 android:layout_columnWeight="1"
68.                 android:layout_margin="4dp"
69.                 android:text="8"
70.                 android:textSize="24sp" />

71.             <Button
72.                 android:id="@+id/btn9"
73.                 android:layout_width="0dp"
74.                 android:layout_height="wrap_content"
75.                 android:layout_columnWeight="1"
76.                 android:layout_margin="4dp"
77.                 android:text="9"
78.                 android:textSize="24sp" />

79.             <Button
80.                 android:id="@+id/btnMultiply"
81.                 android:layout_width="0dp"
82.                 android:layout_height="wrap_content"
83.                 android:layout_columnWeight="1"
84.                 android:layout_margin="4dp"
85.                 android:text="?"
86.                 android:textSize="24sp" />

87.             <Button
88.                 android:id="@+id/btn4"
89.                 android:layout_width="0dp"
90.                 android:layout_height="wrap_content"
91.                 android:layout_columnWeight="1"
92.                 android:layout_margin="4dp"
93.                 android:text="4"
94.                 android:textSize="24sp" />

95.             <Button
96.                 android:id="@+id/btn5"
97.                 android:layout_width="0dp"
98.                 android:layout_height="wrap_content"
99.                 android:layout_columnWeight="1"
100.                android:layout_margin="4dp"
101.                android:text="5"
102.                android:textSize="24sp" />

103.             <Button
104.                android:id="@+id/btn6"
105.                android:layout_width="0dp"
106.                android:layout_height="wrap_content"
107.                android:layout_columnWeight="1"
108.                android:layout_margin="4dp"
109.                android:text="6"
110.                android:textSize="24sp" />

111.             <Button
112.                android:id="@+id/btnMinus"
113.                android:layout_width="0dp"
114.                android:layout_height="wrap_content"
115.                android:layout_columnWeight="1"
116.                android:layout_margin="4dp"
117.                android:text="-"
118.                android:textSize="24sp" />

119.             <Button
120.                android:id="@+id/btn1"
121.                android:layout_width="0dp"
122.                android:layout_height="wrap_content"
123.                android:layout_columnWeight="1"
124.                android:layout_margin="4dp"
125.                android:text="1"
126.                android:textSize="24sp" />

127.             <Button
128.                android:id="@+id/btn2"
129.                android:layout_width="0dp"
130.                android:layout_height="wrap_content"
131.                android:layout_columnWeight="1"
132.                android:layout_margin="4dp"
133.                android:text="2"
134.                android:textSize="24sp" />

135.             <Button
136.                android:id="@+id/btn3"
137.                android:layout_width="0dp"
138.                android:layout_height="wrap_content"
139.                android:layout_columnWeight="1"
140.                android:layout_margin="4dp"
141.                android:text="3"
142.                android:textSize="24sp" />

143.             <Button
144.                android:id="@+id/btnPlus"
145.                android:layout_width="0dp"
146.                android:layout_height="wrap_content"
147.                android:layout_columnWeight="1"
148.                android:layout_margin="4dp"
149.                android:text="+"
150.                android:textSize="24sp" />

151.             <Button
152.                android:id="@+id/btn0"
153.                android:layout_width="0dp"
154.                android:layout_height="wrap_content"
155.                android:layout_columnSpan="2"
156.                android:layout_columnWeight="2"
157.                android:layout_margin="4dp"
158.                android:text="0"
159.                android:textSize="24sp" />

160.             <Button
161.                android:id="@+id/btnDot"
162.                android:layout_width="0dp"
163.                android:layout_height="wrap_content"
164.                android:layout_columnWeight="1"
165.                android:layout_margin="4dp"
166.                android:text="."
167.                android:textSize="24sp" />

168.             <Button
169.                android:id="@+id/btnEquals"
170.                android:layout_width="0dp"
171.                android:layout_height="wrap_content"
172.                android:layout_columnWeight="1"
173.                android:layout_margin="4dp"
174.                android:text="="
175.                android:textSize="24sp" />
176.         </GridLayout>
177.     </LinearLayout> 
 
 
 
 
 
 
ДОДАТОК Б 
 
Файл MainActivity.java

1. public class MainActivity extends AppCompatActivity {
2. 
3.     private EditText resultField;
4.     private double firstNum = 0;
5.     private String operation = "";
6.     private boolean isNewNumber = true;
7. 
8.     @Override
9.     protected void onCreate(Bundle savedInstanceState) {
10.         super.onCreate(savedInstanceState);
11.         setContentView(R.layout.activity_main);
12. 
13.         resultField = findViewById(R.id.resultField);
14.         resultField.setText("0");
15. 
16.         int[] numberIds = {
17.                 R.id.btn0, R.id.btn1, R.id.btn2, R.id.btn3, R.id.btn4,
18.                 R.id.btn5, R.id.btn6, R.id.btn7, R.id.btn8, R.id.btn9
19.         };
20. 
21.         for (int id : numberIds) {
22.             findViewById(id).setOnClickListener(v -> {
23.                 Button button = (Button) v;
24.                 onNumberClick(button.getText().toString());
25.             });
26.         }
27. 
28.         findViewById(R.id.btnPlus).setOnClickListener(v -> onOperationClick("+"));
29.         findViewById(R.id.btnMinus).setOnClickListener(v -> onOperationClick("-"));
30.         findViewById(R.id.btnMultiply).setOnClickListener(v -> onOperationClick("?"));
31.         findViewById(R.id.btnDivide).setOnClickListener(v -> onOperationClick("?"));
32.         findViewById(R.id.btnEquals).setOnClickListener(v -> calculateResult());
33.         findViewById(R.id.btnClear).setOnClickListener(v -> clearCalculator());
34.         findViewById(R.id.btnDot).setOnClickListener(v -> addDecimalPoint());
35.         findViewById(R.id.btnDelete).setOnClickListener(v -> deleteLastCharacter());
36.         findViewById(R.id.btnPercent).setOnClickListener(v -> calculatePercent());
37.     }
38. 
39.     private void onNumberClick(String number) {
40.         if (isNewNumber) {
41.             resultField.setText(number);
42.             isNewNumber = false;
43.         } else {
44.             resultField.append(number);
45.         }
46.     }
47. 
48.     private void onOperationClick(String op) {
49.         firstNum = Double.parseDouble(resultField.getText().toString());
50.         operation = op;
51.         isNewNumber = true;
52.     }
53. 
54.     private void calculateResult() {
55.         if (operation.isEmpty()) return;
56. 
57.         double secondNum = Double.parseDouble(resultField.getText().toString());
58.         double result = 0;
59. 
60.         switch (operation) {
61.             case "+":
62.                 result = firstNum + secondNum;
63.                 break;
64.             case "-":
65.                 result = firstNum - secondNum;
66.                 break;
67.             case "?":
68.                 result = firstNum * secondNum;
69.                 break;
70.             case "?":
71.                 if (secondNum != 0) {
72.                     result = firstNum / secondNum;
73.                 } else {
74.                     resultField.setText("Error");
75.                     return;
76.                 }
77.                 break;
78.         }
79. 
80.         resultField.setText(formatResult(result));
81.         operation = "";
82.         isNewNumber = true;
83.     }
84. 
85.     private void clearCalculator() {
86.         resultField.setText("0");
87.         firstNum = 0;
88.         operation = "";
89.         isNewNumber = true;
90.     }
91. 
92.     private void addDecimalPoint() {
93.         if (!resultField.getText().toString().contains(".")) {
94.             resultField.append(".");
95.         }
96.     }
97. 
98.     private void deleteLastCharacter() {
99.         String currentText = resultField.getText().toString();
100.        if (currentText.length() > 1) {
101.            resultField.setText(currentText.substring(0, currentText.length() - 1));
102.        } else {
103.            resultField.setText("0");
104.            isNewNumber = true;
105.        }
106.    }
107. 
108.    private void calculatePercent() {
109.        if (!operation.isEmpty()) {
110.            double currentNum = Double.parseDouble(resultField.getText().toString());
111.            double percentage = (firstNum * currentNum) / 100;
112.            resultField.setText(formatResult(percentage));
113.            isNewNumber = true;
114.        }
115.    }
116. 
117.    private String formatResult(double result) {
118.        if (result == (long) result) {
119.            return String.format(Locale.US, "%d", (long) result);
120.        } else {
121.            return String.format(Locale.US, "%.2f", result);
122.        }
123.    }
124. } 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
